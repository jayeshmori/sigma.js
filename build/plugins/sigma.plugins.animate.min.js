module.exports=function(a){"use strict";function b(a){if(e[a])return e[a];var b=[0,0,0];return a.match(/^#/)?(a=(a||"").replace(/^#/,""),b=3===a.length?[parseInt(a.charAt(0)+a.charAt(0),16),parseInt(a.charAt(1)+a.charAt(1),16),parseInt(a.charAt(2)+a.charAt(2),16)]:[parseInt(a.charAt(0)+a.charAt(1),16),parseInt(a.charAt(2)+a.charAt(3),16),parseInt(a.charAt(4)+a.charAt(5),16)]):a.match(/^ *rgba? *\(/)&&(a=a.match(/^ *rgba? *\( *([0-9]*) *, *([0-9]*) *, *([0-9]*) *(,.*)?\) *$/),b=[+a[1],+a[2],+a[3]]),e[a]={r:b[0],g:b[1],b:b[2]},e[a]}function c(a,c,d){a=b(a),c=b(c);var e={r:a.r*(1-d)+c.r*d,g:a.g*(1-d)+c.g*d,b:a.b*(1-d)+c.b*d};return"rgb("+[0|e.r,0|e.g,0|e.b].join(",")+")"}if("undefined"==typeof a)throw"sigma is not declared";a.utils.pkg("sigma.plugins");var d=0,e={};a.plugins.animate=function(b,e,f){function g(){var d=(a.utils.dateNow()-n)/l;d>=1?(h.forEach(function(a){for(var b in e)b in e&&e[b]in a&&(a[b]=a[e[b]])}),b.refresh({skipIndexation:!0}),"function"==typeof j.onComplete&&j.onComplete(),b.dispatchEvent("animate.end")):(d=m(d),h.forEach(function(a){for(var b in e)b in e&&e[b]in a&&(b.match(/color$/)?a[b]=c(i[a.id][b],a[e[b]],d):a[b]=a[e[b]]*d+i[a.id][b]*(1-d))}),b.refresh({skipIndexation:!0}),b.animations[k]=requestAnimationFrame(g))}var h,i,j=f||{},k=++d,l=j.duration||b.settings("animationsTime"),m="string"==typeof j.easing?a.utils.easings[j.easing]:"function"==typeof j.easing?j.easing:a.utils.easings.quadraticInOut,n=a.utils.dateNow();h=j.nodes&&j.nodes.length?"object"==typeof j.nodes[0]?j.nodes:b.graph.nodes(j.nodes):b.graph.nodes(),i=h.reduce(function(a,b){var c;a[b.id]={};for(c in e)c in b&&(a[b.id][c]=b[c]);return a},{}),b.animations=b.animations||Object.create({}),a.plugins.killAnimate(b),b.dispatchEvent("animate.start"),g()},a.plugins.killAnimate=function(a){for(var b in a.animations||{})cancelAnimationFrame(a.animations[b])}};