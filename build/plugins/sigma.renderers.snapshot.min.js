module.exports=function(a){function b(a,b,c){var d=document.createElement("a");d.setAttribute("href",a),d.setAttribute("download",c||"graph."+b);var e=document.createEvent("MouseEvent");e.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),d.dispatchEvent(e),delete d}function c(c){if(c=c||{},c.format&&!(c.format in e))throw Error('sigma.renderers.snaphot: unsupported format "'+c.format+'".');var f=this,g=this instanceof a.renderers.webgl,h=[],i=document.createElement("canvas"),j=i.getContext("2d"),k=!1;d.forEach(function(a){if(f.contexts[a]&&(c.labels!==!1||"labels"!==a)){var b=f.domElements[a]||f.domElements.scene,d=f.contexts[a];~h.indexOf(d)||(k||(i.width=g&&d instanceof WebGLRenderingContext?b.width/2:b.width,i.height=g&&d instanceof WebGLRenderingContext?b.height/2:b.height,k=!0,c.background&&(j.rect(0,0,i.width,i.height),j.fillStyle=c.background,j.fill())),d instanceof WebGLRenderingContext?j.drawImage(b,0,0,b.width/2,b.height/2):j.drawImage(b,0,0),h.push(d))}});var l=i.toDataURL(e[c.format||"png"]);return c.download&&b(l,c.format||"png",c.filename),delete j,delete i,delete h,l}if("undefined"==typeof a)throw"sigma.renderers.snapshot: sigma not in scope.";var d=["scene","edges","nodes","labels"],e={png:"image/png",jpg:"image/jpeg",gif:"image/gif",tiff:"image/tiff"};a.renderers.canvas.prototype.snapshot=c,a.renderers.webgl.prototype.snapshot=c};