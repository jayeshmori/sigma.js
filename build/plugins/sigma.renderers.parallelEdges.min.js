!function(){"use strict";sigma.utils.pkg("sigma.canvas.edgehovers"),sigma.canvas.edgehovers.curve=function(a,b,c,d,e){var f=a.color,g=e("prefix")||"",h=e("edgeHoverSizeRatio")*(a[g+"size"]||1),i=a.count||0,j=e("edgeColor"),k=e("defaultNodeColor"),l=e("defaultEdgeColor"),m={},n=b[g+"size"],o=b[g+"x"],p=b[g+"y"],q=c[g+"x"],r=c[g+"y"];if(m=b.id===c.id?sigma.utils.getSelfLoopControlPoints(o,p,n,i):sigma.utils.getQuadraticControlPoint(o,p,q,r,i),!f)switch(j){case"source":f=b.color||k;break;case"target":f=c.color||k;break;default:f=l}f="edge"===e("edgeHoverColor")?a.hover_color||f:a.hover_color||e("defaultEdgeHoverColor")||f,d.strokeStyle=f,d.lineWidth=h,d.beginPath(),d.moveTo(o,p),b.id===c.id?d.bezierCurveTo(m.x1,m.y1,m.x2,m.y2,q,r):d.quadraticCurveTo(m.x,m.y,q,r),d.stroke()}}(),function(){"use strict";sigma.utils.pkg("sigma.canvas.edgehovers"),sigma.canvas.edgehovers.curvedArrow=function(a,b,c,d,e){var f,g,h,i,j,k,l=a.color,m=e("prefix")||"",n=e("edgeColor"),o=e("defaultNodeColor"),p=e("defaultEdgeColor"),q={},r=e("edgeHoverSizeRatio")*(a[m+"size"]||1),s=a.count||0,t=c[m+"size"],u=b[m+"x"],v=b[m+"y"],w=c[m+"x"],x=c[m+"y"];if(q=b.id===c.id?sigma.utils.getSelfLoopControlPoints(u,v,t,s):sigma.utils.getQuadraticControlPoint(u,v,w,x,s),b.id===c.id?(f=Math.sqrt(Math.pow(w-q.x1,2)+Math.pow(x-q.y1,2)),g=2.5*r,h=q.x1+(w-q.x1)*(f-g-t)/f,i=q.y1+(x-q.y1)*(f-g-t)/f,j=(w-q.x1)*g/f,k=(x-q.y1)*g/f):(f=Math.sqrt(Math.pow(w-q.x,2)+Math.pow(x-q.y,2)),g=2.5*r,h=q.x+(w-q.x)*(f-g-t)/f,i=q.y+(x-q.y)*(f-g-t)/f,j=(w-q.x)*g/f,k=(x-q.y)*g/f),!l)switch(n){case"source":l=b.color||o;break;case"target":l=c.color||o;break;default:l=p}l="edge"===e("edgeHoverColor")?a.hover_color||l:a.hover_color||e("defaultEdgeHoverColor")||l,d.strokeStyle=l,d.lineWidth=r,d.beginPath(),d.moveTo(u,v),b.id===c.id?d.bezierCurveTo(q.x2,q.y2,q.x1,q.y1,h,i):d.quadraticCurveTo(q.x,q.y,h,i),d.stroke(),d.fillStyle=l,d.beginPath(),d.moveTo(h+j,i+k),d.lineTo(h+.6*k,i-.6*j),d.lineTo(h-.6*k,i+.6*j),d.lineTo(h+j,i+k),d.closePath(),d.fill()}}(),module.exports=function(a){"use strict";a.utils.pkg("sigma.canvas.edges"),a.canvas.edges.arrow=function(b,c,d,e,f){var g,h,i,j,k,l=b.color,m=f("prefix")||"",n=f("edgeColor"),o=f("defaultNodeColor"),p=f("defaultEdgeColor"),q={},r=b[m+"size"]||1,s=b.count||0,t=d[m+"size"],u=c[m+"x"],v=c[m+"y"],w=d[m+"x"],x=d[m+"y"],y=Math.max(4*r,f("minArrowSize"));if(q=c.id===d.id?a.utils.getSelfLoopControlPoints(u,v,t,s):a.utils.getQuadraticControlPoint(u,v,w,x,s),c.id===d.id?(g=Math.sqrt(Math.pow(w-q.x1,2)+Math.pow(x-q.y1,2)),h=q.x1+(w-q.x1)*(g-y-t)/g,i=q.y1+(x-q.y1)*(g-y-t)/g,j=(w-q.x1)*y/g,k=(x-q.y1)*y/g):(g=Math.sqrt(Math.pow(w-q.x,2)+Math.pow(x-q.y,2)),h=q.x+(w-q.x)*(g-y-t)/g,i=q.y+(x-q.y)*(g-y-t)/g,j=(w-q.x)*y/g,k=(x-q.y)*y/g),!l)switch(n){case"source":l=c.color||o;break;case"target":l=d.color||o;break;default:l=p}e.strokeStyle=l,e.lineWidth=r,e.beginPath(),e.moveTo(u,v),c.id===d.id?e.bezierCurveTo(q.x2,q.y2,q.x1,q.y1,h,i):e.quadraticCurveTo(q.x,q.y,h,i),e.stroke(),e.fillStyle=l,e.beginPath(),e.moveTo(h+j,i+k),e.lineTo(h+.6*k,i-.6*j),e.lineTo(h-.6*k,i+.6*j),e.lineTo(h+j,i+k),e.closePath(),e.fill()}},function(){"use strict";sigma.utils.pkg("sigma.canvas.edges"),sigma.canvas.edges.curve=function(a,b,c,d,e){var f=a.color,g=e("prefix")||"",h=a[g+"size"]||1,i=a.count||0,j=e("edgeColor"),k=e("defaultNodeColor"),l=e("defaultEdgeColor"),m={},n=b[g+"size"],o=b[g+"x"],p=b[g+"y"],q=c[g+"x"],r=c[g+"y"];if(m=b.id===c.id?sigma.utils.getSelfLoopControlPoints(o,p,n,i):sigma.utils.getQuadraticControlPoint(o,p,q,r,i),!f)switch(j){case"source":f=b.color||k;break;case"target":f=c.color||k;break;default:f=l}d.strokeStyle=f,d.lineWidth=h,d.beginPath(),d.moveTo(o,p),b.id===c.id?d.bezierCurveTo(m.x1,m.y1,m.x2,m.y2,q,r):d.quadraticCurveTo(m.x,m.y,q,r),d.stroke()}}(),function(){"use strict";sigma.utils.pkg("sigma.canvas.edges"),sigma.canvas.edges.curvedArrow=function(a,b,c,d,e){var f,g,h,i,j,k=a.color,l=e("prefix")||"",m=e("edgeColor"),n=e("defaultNodeColor"),o=e("defaultEdgeColor"),p={},q=a[l+"size"]||1,r=a.count||0,s=c[l+"size"],t=b[l+"x"],u=b[l+"y"],v=c[l+"x"],w=c[l+"y"],x=Math.max(2.5*q,e("minArrowSize"));if(p=b.id===c.id?sigma.utils.getSelfLoopControlPoints(t,u,s,r):sigma.utils.getQuadraticControlPoint(t,u,v,w,r),b.id===c.id?(f=Math.sqrt(Math.pow(v-p.x1,2)+Math.pow(w-p.y1,2)),g=p.x1+(v-p.x1)*(f-x-s)/f,h=p.y1+(w-p.y1)*(f-x-s)/f,i=(v-p.x1)*x/f,j=(w-p.y1)*x/f):(f=Math.sqrt(Math.pow(v-p.x,2)+Math.pow(w-p.y,2)),g=p.x+(v-p.x)*(f-x-s)/f,h=p.y+(w-p.y)*(f-x-s)/f,i=(v-p.x)*x/f,j=(w-p.y)*x/f),!k)switch(m){case"source":k=b.color||n;break;case"target":k=c.color||n;break;default:k=o}d.strokeStyle=k,d.lineWidth=q,d.beginPath(),d.moveTo(t,u),b.id===c.id?d.bezierCurveTo(p.x2,p.y2,p.x1,p.y1,g,h):d.quadraticCurveTo(p.x,p.y,g,h),d.stroke(),d.fillStyle=k,d.beginPath(),d.moveTo(g+i,h+j),d.lineTo(g+.6*j,h-.6*i),d.lineTo(g-.6*j,h+.6*i),d.lineTo(g+i,h+j),d.closePath(),d.fill()}}(),module.exports=function(a){"use strict";if("undefined"==typeof a)throw"sigma is not declared";a.utils.pkg("sigma.canvas.edges.labels"),a.canvas.edges.labels.curve=function(b,c,d,e,f){if("string"==typeof b.label){var g=f("prefix")||"",h=b[g+"size"]||1;if(!(h<f("edgeLabelThreshold"))){var i,j,k,l=c[g+"size"],m=b.count||0,n=c[g+"x"],o=c[g+"y"],p=d[g+"x"],q=d[g+"y"],r=p-n,s=q-o,t=n<p?1:-1,u={},v=.5;c.id===d.id?(u=a.utils.getSelfLoopControlPoints(n,o,l,m),j=a.utils.getPointOnBezierCurve(v,n,o,p,q,u.x1,u.y1,u.x2,u.y2),k=Math.atan2(1,1)):(u=a.utils.getQuadraticControlPoint(n,o,p,q,m),j=a.utils.getPointOnQuadraticCurve(v,n,o,p,q,u.x,u.y),k=Math.atan2(s*t,r*t)),i="fixed"===f("edgeLabelSize")?f("defaultEdgeLabelSize"):f("defaultEdgeLabelSize")*h*Math.pow(h,-1/f("edgeLabelSizePowRatio")),e.save(),b.active?(e.font=[f("activeFontStyle"),i+"px",f("activeFont")||f("font")].join(" "),e.fillStyle="edge"===f("edgeActiveColor")?b.active_color||f("defaultEdgeActiveColor"):f("defaultEdgeLabelActiveColor")):(e.font=[f("fontStyle"),i+"px",f("font")].join(" "),e.fillStyle="edge"===f("edgeLabelColor")?b.color||f("defaultEdgeColor"):f("defaultEdgeLabelColor")),e.textAlign="center",e.textBaseline="alphabetic",e.translate(j.x,j.y),e.rotate(k),e.fillText(b.label,0,-h/2-3),e.restore()}}}},module.exports=function(a){"use strict";if("undefined"==typeof a)throw"sigma is not declared";a.utils=a.utils||{},a.utils.getQuadraticControlPoint=function(a,b,c,d,e){return e=e||0,{x:(a+c)/2+(d-b)/(60/(15+e)),y:(b+d)/2+(a-c)/(60/(15+e))}},a.utils.getSelfLoopControlPoints=function(a,b,c,d){return d=d||0,{x1:a-7*(c+d),y1:b,x2:a,y2:b+7*(c+d)}}};